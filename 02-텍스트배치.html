<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>텍스트배치</title>
    <link rel="stylesheet" href="css/02.css">
    <script src="lib/gsap.min.js"></script>
    <script src="lib/SplitText.min.js"></script>
    <script>
        window.onload = () => {
            gsap.registerPlugin(SplitText);

            document.fonts.ready.then(() => {
                var quote = document.getElementById("quote"),/* 아이디명 수정시 변수이름 다 바꾸기 */
                    decoy = document.getElementById("decoys"),
                    quoteSplit = SplitText.create(quote, { type: "words" }),
                    decoySplit = SplitText.create(decoy, { type: "words" }),
                    tl = gsap.timeline({ delay: 0.5, repeat: -1/* 횟수 (횟수 제한두지 않고 무한반복 원하면 '-1'입력) */, repeatDelay: 1 }),
                    allWords = quoteSplit.words.concat(decoySplit.words),
                    i;

                gsap.set([quote, decoy], { visibility: "visible" });
                gsap.set(allWords, { boxShadow: "(0px 0px 6px rgba(0, 0, 0, 0.8)" });

                //intro
                for (i = 0; i < allWords.length; i++) {
                    tl.fromTo(
                        allWords[i],
                        0.4 + Math.random() * 0.5,
                        {
                            x: randomInteger(-400, 400),
                            y: randomInteger(-300, 300),
                            autoAlpha: 0
                        },
                        {
                            force3D: true,
                            rotation: randomInteger(-60, 60),
                            y: randomInteger(60, 200),
                            x: randomInteger(-350, 350),
                            autoAlpha: 1,
                            ease: Power2.easeOut
                        },
                        Math.random() * 0.5
                    );
                }

                //show sentence
                for (i = 0; i < quoteSplit.words.length; i++) {
                    tl.to(
                        quoteSplit.words[i],
                        {
                            duration: 0.5,
                            rotation: randomInteger(-6, 10),
                            x: randomInteger(-2, 2),
                            y: randomInteger(-4, 4)
                        },
                        "sentence+=" + i * 0.3
                    );
                }

                //outro
                tl.to(
                    allWords,
                    { duration: 0.3, autoAlpha: 0, scale: 0, ease: "back.in", stagger: 0.01 },
                    "+=1"
                );

                function randomInteger(min, max) {
                    return Math.floor(Math.random() * (1 + max - min) + min);
                }

            });

        };//end
    </script>
</head>

<body>
    <div class="split" id="quote">animating using GSAP is super fun</div><!-- 아이디명 수정시 변수이름 다 바꾸기 -->

    <div class="split" id="decoys">tween timeline from set utils whizz ease sine back bounce spin transform scale split
        svg text ui scroll slide rotate hide parallax morph</div>
</body>

</html>